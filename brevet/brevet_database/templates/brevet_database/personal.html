{% extends "base.html" %}

{% block title %}
Рандоннёр {{ randonneur.russian_surname }} {{ randonneur.russian_name }} |
{% endblock %}

{% block content %}
    <h2 class="my-3">{{ randonneur.russian_surname }} {{ randonneur.russian_name }} </h2>

    {% if results %}
    <h5 class="text-muted">Общая дистанция: {{ total_distance }} км</h5>
    <h5 class="text-muted">Годы активности: {{ years_active }} </h5>
    {% if sr %}
    <h5 class="text-muted">Суперрандоннёр: {{ sr }} </h5>
    {% endif %}
    <h4 class="text-center m-4">Лучшие результаты</h4>
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Дистанция</th>
                    <th>Дата</th>
                    <th>Бревет</th>
                    <th>Клуб-организатор</th>
                    <th>Время</th>
                    <th>Омологация</th>
                </tr>
            </thead>
            <tbody>
                {% if best_200 %}
                    <tr>
                        <td>{{ best_200.event.route.distance }} км</td>
                        <td>{{ best_200.date_ }}</td>
                        <td>
                            <a href = "{{ best_200.event.get_absolute_url }}">
                                {{ best_200.event.route.name }}
                            </a>
                        </td>
                        <td>{{ best_200.event.club }}</td>
                        <td>{{ best_200.time_ }}</td>     
                        <td>{{ best_200.homologation }}</td>           
                    </tr>
                {% endif %}
                {% if best_300 %}
                    <tr>
                        <td>{{ best_300.event.route.distance }} км </td>
                        <td>{{ best_300.date_ }}</td>
                        <td>
                            <a href = "{{ best_300.event.get_absolute_url }}">
                                {{ best_300.event.route.name }}
                            </a>
                        </td>
                        <td>{{ best_300.event.club }}</td>
                        <td>{{ best_300.time_ }}</td>  
                        <td>{{ best_300.homologation }}</td>              
                    </tr>
                {% endif %}
                {% if best_400 %}
                    <tr>
                        <td>{{ best_400.event.route.distance }} км </td>
                        <td>{{ best_400.date_ }}</td>
                        <td>
                            <a href = "{{ best_400.event.get_absolute_url }}">
                                {{ best_400.event.route.name }}
                            </a>
                        </td>
                        <td>{{ best_400.event.club }}</td>
                        <td>{{ best_400.time_ }}</td>    
                        <td>{{ best_400.homologation }}</td>            
                    </tr>
                {% endif %}
                {% if best_600 %}
                    <tr>
                        <td>{{ best_600.event.route.distance }} км </td>
                        <td>{{ best_600.date_ }}</td>
                        <td>
                            <a href = "{{ best_600.event.get_absolute_url }}">
                                {{ best_600.event.route.name }}
                            </a>
                        </td>
                        <td>{{ best_600.event.club }}</td>
                        <td>{{ best_600.time_ }}</td>   
                        <td>{{ best_600.homologation }}</td>             
                    </tr>
                {% endif %}
            </tbody>
        </table>

        <h4 class="text-center m-4">Все результаты</h4>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Дистанция</th>
                        <th>Дата</th>
                        <th>Бревет</th>
                        <th>Клуб-организатор</th>
                        <th>Время</th>
                        <th>Омологация</th>
                    </tr>
                </thead>
                <tbody>
                    {% for result in results %}
                        <tr>
                            <td>{{ result.event.route.distance }} км </td>
                            <td>{{ result.date_ }}</td>
                            <td>
                                <a href = "{{ result.event.get_absolute_url }}">
                                    {{ result.event.route.name }}
                                </a>
                            </td>
                            <td>{{ result.event.club }}</td>
                            <td>{{ result.time_ }}</td>   
                            <td>{{ result.homologation }}</td>     
                        </tr>
                    {% endfor %}
                </tbody>
            </table>      


    {% else %}
        <p>Результаты отсутствуют.</p>
    {% endif %}

{% endblock %}